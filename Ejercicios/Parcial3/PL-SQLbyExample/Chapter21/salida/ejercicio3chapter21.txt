SQL> CREATE OR REPLACE PACKAGE manage_students
  2  AS
  3  	PROCEDURE find_sname
  4  		(i_student_id IN student.student_id%TYPE,
  5  		 o_first_name OUT student.first_name%TYPE,
  6  		 o_last_name OUT student.last_name%TYPE
  7  		);
  8  
  9  	FUNCTION id_is_good
 10  	 (i_student_id IN student.student_id%TYPE)
 11  	 RETURN BOOLEAN;
 12  
 13  	 PROCEDURE display_student_count;
 14  
 15  END manage_students;
 16  .
SQL> /

Paquete creado.

SQL> 
SQL> 
SQL> CREATE OR REPLACE PACKAGE BODY manage_students
  2  AS
  3  	PROCEDURE find_sname
  4  		 (i_student_id IN student.student_id%TYPE,
  5  		 o_first_name OUT student.first_name%TYPE,
  6  		 o_last_name OUT student.last_name%TYPE
  7  		 )
  8  	IS
  9  		v_student_id student.student_id%TYPE;
 10  	 	BEGIN
 11  
 12  	 	SELECT first_name, last_name
 13  	 		INTO o_first_name, o_last_name
 14  			 FROM student
 15  			 WHERE student_id = i_student_id;
 16   	EXCEPTION
 17  		 WHEN OTHERS THEN
 18  	DBMS_OUTPUT.PUT_LINE ('Error in finding student_id: '||v_student_id);
 19  	END find_sname;
 20  
 21  	FUNCTION id_is_good
 22  		(i_student_id IN student.student_id%TYPE)
 23  		RETURN BOOLEAN
 24  	 IS
 25  		 v_id_cnt number;
 26  	BEGIN
 27   		SELECT COUNT(*)
 28  			 INTO v_id_cnt
 29  			 FROM student
 30  			 WHERE student_id = i_student_id;
 31  		 RETURN 1 = v_id_cnt;
 32  	EXCEPTION
 33  		 WHEN OTHERS
 34  		 THEN
 35   	RETURN FALSE;
 36   	END id_is_good;
 37  
 38  
 39  	FUNCTION student_count_priv
 40  		RETURN NUMBER
 41  	IS
 42  		v_count NUMBER;
 43  	BEGIN
 44  		select count(*)
 45  			into v_count
 46  			from student;
 47  		return v_count;
 48  	EXCEPTION
 49  		WHEN OTHERS THEN
 50  			return(0);
 51  	END student_count_priv;
 52  
 53  
 54  	PROCEDURE display_student_count
 55  	IS
 56  		v_count NUMBER;
 57  	BEGIN
 58  		v_count := student_count_priv;
 59  	 DBMS_OUTPUT.PUT_LINE ('There are '||v_count||' students.');
 60  
 61  	END display_student_count;
 62  
 63  END manage_students;
 64  .
SQL> /

Cuerpo del paquete creado.

SQL> DECLARE
  2  	V_count NUMBER;
  3  BEGIN
  4  	V_count := Manage_students.student_count_priv;
  5  	DBMS_OUTPUT.PUT_LINE(v_count);
  6  END;
  7  .
SQL> /
	V_count := Manage_students.student_count_priv;
	                           *
ERROR en línea 4:
ORA-06550: línea 4, columna 29: 
PLS-00302: el componente 'STUDENT_COUNT_PRIV' se debe declarar 
ORA-06550: línea 4, columna 2: 
PL/SQL: Statement ignored 


SQL> Execute manage_students.display_student_count;
There are 275 students.                                                                                                                               

Procedimiento PL/SQL terminado correctamente.

SQL> spool off;
